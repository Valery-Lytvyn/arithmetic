import{r as P,b as Ot,d as xt,j as O,a as jt,g as Pt,e as St}from"./index-31006efe.js";import{S as Mt,B as Et,E as It}from"./constants-3628f6d0.js";import{M as yt}from"./MathEquation-1fbc19a6.js";import{B as lt,u as Ct}from"./Button-8497fc8c.js";const mt=(b,E=1)=>Math.floor(Math.random()*(b-E+1))+E,Nt=(b,E,I)=>{const y=mt(E||1),d=mt(I||1);if((b===":"||b==="-")&&d>y){const v=d,l=y;return b===":"?[Math.floor(d/y)*y,y]:[v,l]}else return b===":"?[Math.floor(y/d)*d,d]:[y,d]},kt=(b,E,I)=>{switch(b){case"+":return E+I;case"-":return E-I;case"x":return E*I;case":":return E/I;default:return null}},Dt=(b,E,I,y)=>{let d=E;if(b===I)switch(y){case 6:d+=5;break;case 9:d+=3;break;case 12:d+=1;break}else switch(y){case 6:d-=1;break;case 9:d-=3;break;case 12:d-=5;break}return d};var bt={exports:{}};(function(b,E){(function(I,y){b.exports=y(P)})(typeof self<"u"?self:Ot,function(I){return function(y){var d={};function v(l){if(d[l])return d[l].exports;var t=d[l]={i:l,l:!1,exports:{}};return y[l].call(t.exports,t,t.exports,v),t.l=!0,t.exports}return v.m=y,v.c=d,v.d=function(l,t,e){v.o(l,t)||Object.defineProperty(l,t,{enumerable:!0,get:e})},v.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},v.t=function(l,t){if(1&t&&(l=v(l)),8&t||4&t&&typeof l=="object"&&l&&l.__esModule)return l;var e=Object.create(null);if(v.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:l}),2&t&&typeof l!="string")for(var s in l)v.d(e,s,function(a){return l[a]}.bind(null,s));return e},v.n=function(l){var t=l&&l.__esModule?function(){return l.default}:function(){return l};return v.d(t,"a",t),t},v.o=function(l,t){return Object.prototype.hasOwnProperty.call(l,t)},v.p="",v(v.s=2)}([function(y,d){y.exports=I},function(y,d,v){var l={linear:function(t,e,s,a){return(s-e)*t/a+e},easeInQuad:function(t,e,s,a){return(s-e)*(t/=a)*t+e},easeOutQuad:function(t,e,s,a){return-(s-e)*(t/=a)*(t-2)+e},easeInOutQuad:function(t,e,s,a){var c=s-e;return(t/=a/2)<1?c/2*t*t+e:-c/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,a){return(s-e)*(t/=a)*t*t+e},easeOutCubic:function(t,e,s,a){return(s-e)*((t=t/a-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,a){var c=s-e;return(t/=a/2)<1?c/2*t*t*t+e:c/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,a){return(s-e)*(t/=a)*t*t*t+e},easeOutQuart:function(t,e,s,a){return-(s-e)*((t=t/a-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,a){var c=s-e;return(t/=a/2)<1?c/2*t*t*t*t+e:-c/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,a){return(s-e)*(t/=a)*t*t*t*t+e},easeOutQuint:function(t,e,s,a){return(s-e)*((t=t/a-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,a){var c=s-e;return(t/=a/2)<1?c/2*t*t*t*t*t+e:c/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,a){var c=s-e;return-c*Math.cos(t/a*(Math.PI/2))+c+e},easeOutSine:function(t,e,s,a){return(s-e)*Math.sin(t/a*(Math.PI/2))+e},easeInOutSine:function(t,e,s,a){return-(s-e)/2*(Math.cos(Math.PI*t/a)-1)+e},easeInExpo:function(t,e,s,a){return t==0?e:(s-e)*Math.pow(2,10*(t/a-1))+e},easeOutExpo:function(t,e,s,a){var c=s-e;return t==a?e+c:c*(1-Math.pow(2,-10*t/a))+e},easeInOutExpo:function(t,e,s,a){var c=s-e;return t===0?e:t===a?e+c:(t/=a/2)<1?c/2*Math.pow(2,10*(t-1))+e:c/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,s,a){return-(s-e)*(Math.sqrt(1-(t/=a)*t)-1)+e},easeOutCirc:function(t,e,s,a){return(s-e)*Math.sqrt(1-(t=t/a-1)*t)+e},easeInOutCirc:function(t,e,s,a){var c=s-e;return(t/=a/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+e:c/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,a){var c,p,M,f=s-e;return M=1.70158,t===0?e:(t/=a)==1?e+f:((p=0)||(p=.3*a),(c=f)<Math.abs(f)?(c=f,M=p/4):M=p/(2*Math.PI)*Math.asin(f/c),-c*Math.pow(2,10*(t-=1))*Math.sin((t*a-M)*(2*Math.PI)/p)+e)},easeOutElastic:function(t,e,s,a){var c,p,M,f=s-e;return M=1.70158,t===0?e:(t/=a)==1?e+f:((p=0)||(p=.3*a),(c=f)<Math.abs(f)?(c=f,M=p/4):M=p/(2*Math.PI)*Math.asin(f/c),c*Math.pow(2,-10*t)*Math.sin((t*a-M)*(2*Math.PI)/p)+f+e)},easeInOutElastic:function(t,e,s,a){var c,p,M,f=s-e;return M=1.70158,t===0?e:(t/=a/2)==2?e+f:((p=0)||(p=a*.44999999999999996),(c=f)<Math.abs(f)?(c=f,M=p/4):M=p/(2*Math.PI)*Math.asin(f/c),t<1?c*Math.pow(2,10*(t-=1))*Math.sin((t*a-M)*(2*Math.PI)/p)*-.5+e:c*Math.pow(2,-10*(t-=1))*Math.sin((t*a-M)*(2*Math.PI)/p)*.5+f+e)},easeInBack:function(t,e,s,a,c){return c===void 0&&(c=1.70158),(s-e)*(t/=a)*t*((c+1)*t-c)+e},easeOutBack:function(t,e,s,a,c){return c===void 0&&(c=1.70158),(s-e)*((t=t/a-1)*t*((c+1)*t+c)+1)+e},easeInOutBack:function(t,e,s,a,c){var p=s-e;return c===void 0&&(c=1.70158),(t/=a/2)<1?p/2*(t*t*((1+(c*=1.525))*t-c))+e:p/2*((t-=2)*t*((1+(c*=1.525))*t+c)+2)+e},easeInBounce:function(t,e,s,a){var c=s-e;return c-l.easeOutBounce(a-t,0,c,a)+e},easeOutBounce:function(t,e,s,a){var c=s-e;return(t/=a)<.36363636363636365?c*(7.5625*t*t)+e:t<.7272727272727273?c*(7.5625*(t-=.5454545454545454)*t+.75)+e:t<.9090909090909091?c*(7.5625*(t-=.8181818181818182)*t+.9375)+e:c*(7.5625*(t-=.9545454545454546)*t+.984375)+e},easeInOutBounce:function(t,e,s,a){var c=s-e;return t<a/2?.5*l.easeInBounce(2*t,0,c,a)+e:.5*l.easeOutBounce(2*t-a,0,c,a)+.5*c+e}};y.exports=l},function(y,d,v){y.exports=v(3)},function(y,d,v){v.r(d),v.d(d,"ReactConfetti",function(){return ft});var l,t,e=v(0),s=v.n(e),a=v(1),c=v.n(a);function p(n,i){return n+Math.random()*(i-n)}function M(n,i){for(var o=0;o<i.length;o++){var r=i[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function f(n,i,o){return i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(l||(l={})),function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"}(t||(t={}));var Q=function(){function n(r,m,u,h){(function(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")})(this,n),f(this,"context",void 0),f(this,"radius",void 0),f(this,"x",void 0),f(this,"y",void 0),f(this,"w",void 0),f(this,"h",void 0),f(this,"vx",void 0),f(this,"vy",void 0),f(this,"shape",void 0),f(this,"angle",void 0),f(this,"angularSpin",void 0),f(this,"color",void 0),f(this,"rotateY",void 0),f(this,"rotationDirection",void 0),f(this,"getOptions",void 0),this.getOptions=m;var g,j,w=this.getOptions(),A=w.colors,k=w.initialVelocityX,D=w.initialVelocityY;this.context=r,this.x=u,this.y=h,this.w=p(5,20),this.h=p(5,20),this.radius=p(5,10),this.vx=typeof k=="number"?p(-k,k):p(k.min,k.max),this.vy=typeof D=="number"?p(-D,0):p(D.min,D.max),this.shape=(g=0,j=2,Math.floor(g+Math.random()*(j-g+1))),this.angle=p(0,360)*Math.PI/180,this.angularSpin=p(-.2,.2),this.color=A[Math.floor(Math.random()*A.length)],this.rotateY=p(0,1),this.rotationDirection=p(0,1)?t.Positive:t.Negative}var i,o;return i=n,(o=[{key:"update",value:function(){var r=this.getOptions(),m=r.gravity,u=r.wind,h=r.friction,g=r.opacity,j=r.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=m,this.vx+=u,this.vx*=h,this.vy*=h,this.rotateY>=1&&this.rotationDirection===t.Positive?this.rotationDirection=t.Negative:this.rotateY<=-1&&this.rotationDirection===t.Negative&&(this.rotationDirection=t.Positive);var w=.1*this.rotationDirection;if(this.rotateY+=w,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=g,this.context.lineCap="round",this.context.lineWidth=2,j&&typeof j=="function")j.call(this,this.context);else switch(this.shape){case l.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case l.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case l.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&M(i.prototype,o),n}();function S(n,i,o){return i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}var K=function n(i,o){var r=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,n),S(this,"canvas",void 0),S(this,"context",void 0),S(this,"getOptions",void 0),S(this,"x",0),S(this,"y",0),S(this,"w",0),S(this,"h",0),S(this,"lastNumberOfPieces",0),S(this,"tweenInitTime",Date.now()),S(this,"particles",[]),S(this,"particlesGenerated",0),S(this,"removeParticleAt",function(u){r.particles.splice(u,1)}),S(this,"getParticle",function(){var u=p(r.x,r.w+r.x),h=p(r.y,r.h+r.y);return new Q(r.context,r.getOptions,u,h)}),S(this,"animate",function(){var u=r.canvas,h=r.context,g=r.particlesGenerated,j=r.lastNumberOfPieces,w=r.getOptions(),A=w.run,k=w.recycle,D=w.numberOfPieces,ot=w.debug,at=w.tweenFunction,st=w.tweenDuration;if(!A)return!1;var ct=r.particles.length,W=k?ct:g,ut=Date.now();if(W<D){j!==D&&(r.tweenInitTime=ut,r.lastNumberOfPieces=D);for(var ht=r.tweenInitTime,wt=at(ut-ht>st?st:Math.max(0,ut-ht),W,D,st),pt=Math.round(wt-W),dt=0;dt<pt;dt++)r.particles.push(r.getParticle());r.particlesGenerated+=pt}return ot&&(h.font="12px sans-serif",h.fillStyle="#333",h.textAlign="right",h.fillText("Particles: ".concat(ct),u.width-10,u.height-20)),r.particles.forEach(function(H,vt){H.update(),(H.y>u.height||H.y<-100||H.x>u.width+100||H.x<-100)&&(k&&W<=D?r.particles[vt]=r.getParticle():r.removeParticleAt(vt))}),ct>0||W<D}),this.canvas=i;var m=this.canvas.getContext("2d");if(!m)throw new Error("Could not get canvas context");this.context=m,this.getOptions=o};function X(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);i&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),o.push.apply(o,r)}return o}function B(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?X(Object(o),!0).forEach(function(r){N(n,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):X(Object(o)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(o,r))})}return n}function T(n,i){for(var o=0;o<i.length;o++){var r=i[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function N(n,i,o){return i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}var R={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:c.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},L=function(){function n(r,m){var u=this;(function(g,j){if(!(g instanceof j))throw new TypeError("Cannot call a class as a function")})(this,n),N(this,"canvas",void 0),N(this,"context",void 0),N(this,"_options",void 0),N(this,"generator",void 0),N(this,"rafId",void 0),N(this,"setOptionsWithDefaults",function(g){var j={confettiSource:{x:0,y:0,w:u.canvas.width,h:0}};u._options=B(B(B({},j),R),g),Object.assign(u,g.confettiSource)}),N(this,"update",function(){var g=u.options,j=g.run,w=g.onConfettiComplete,A=u.canvas,k=u.context;j&&(k.fillStyle="white",k.clearRect(0,0,A.width,A.height)),u.generator.animate()?u.rafId=requestAnimationFrame(u.update):(w&&typeof w=="function"&&u.generator.particlesGenerated>0&&w.call(u,u),u._options.run=!1)}),N(this,"reset",function(){u.generator&&u.generator.particlesGenerated>0&&(u.generator.particlesGenerated=0,u.generator.particles=[],u.generator.lastNumberOfPieces=0)}),N(this,"stop",function(){u.options={run:!1},u.rafId&&(cancelAnimationFrame(u.rafId),u.rafId=void 0)}),this.canvas=r;var h=this.canvas.getContext("2d");if(!h)throw new Error("Could not get canvas context");this.context=h,this.generator=new K(this.canvas,function(){return u.options}),this.options=m,this.update()}var i,o;return i=n,(o=[{key:"options",get:function(){return this._options},set:function(r){var m=this._options&&this._options.run,u=this._options&&this._options.recycle;this.setOptionsWithDefaults(r),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof r.recycle=="boolean"&&r.recycle&&u===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof r.run=="boolean"&&r.run&&m===!1&&this.update()}}])&&T(i.prototype,o),n}();function Z(n){return function(i){if(Array.isArray(i))return G(i)}(n)||function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}(n)||$(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(n){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function F(){return(F=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n}).apply(this,arguments)}function V(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);i&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),o.push.apply(o,r)}return o}function q(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?V(Object(o),!0).forEach(function(r){U(n,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(o,r))})}return n}function z(n,i){return function(o){if(Array.isArray(o))return o}(n)||function(o,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var m=[],u=!0,h=!1,g=void 0;try{for(var j,w=o[Symbol.iterator]();!(u=(j=w.next()).done)&&(m.push(j.value),!r||m.length!==r);u=!0);}catch(A){h=!0,g=A}finally{try{u||w.return==null||w.return()}finally{if(h)throw g}}return m}}(n,i)||$(n,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(n,i){if(n){if(typeof n=="string")return G(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?G(n,i):void 0}}function G(n,i){(i==null||i>n.length)&&(i=n.length);for(var o=0,r=new Array(i);o<i;o++)r[o]=n[o];return r}function J(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function x(n,i){for(var o=0;o<i.length;o++){var r=i[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _(n,i){return(_=Object.setPrototypeOf||function(o,r){return o.__proto__=r,o})(n,i)}function Y(n){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var o,r=nt(n);if(i){var m=nt(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return tt(this,o)}}function tt(n,i){return!i||C(i)!=="object"&&typeof i!="function"?et(n):i}function et(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nt(n){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(n)}function U(n,i,o){return i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}var gt=s.a.createRef(),rt=function(n){(function(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),h&&_(u,h)})(m,n);var i,o,r=Y(m);function m(u){var h;J(this,m);for(var g=arguments.length,j=new Array(g>1?g-1:0),w=1;w<g;w++)j[w-1]=arguments[w];return U(et(h=r.call.apply(r,[this,u].concat(j))),"canvas",s.a.createRef()),U(et(h),"confetti",void 0),h.canvas=u.canvasRef||gt,h}return i=m,(o=[{key:"componentDidMount",value:function(){if(this.canvas.current){var u=it(this.props)[0];this.confetti=new L(this.canvas.current,u)}}},{key:"componentDidUpdate",value:function(){var u=it(this.props)[0];this.confetti&&(this.confetti.options=u)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var u=z(it(this.props),2),h=u[0],g=u[1],j=q({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},g.style);return s.a.createElement("canvas",F({width:h.width,height:h.height,ref:this.canvas},g,{style:j}))}}])&&x(i.prototype,o),m}(e.Component);function it(n){var i={},o={},r=[].concat(Z(Object.keys(R)),["confettiSource","drawShape","onConfettiComplete"]),m=["canvasRef"];for(var u in n){var h=n[u];r.includes(u)?i[u]=h:m.includes(u)?m[u]=h:o[u]=h}return[i,o,{}]}U(rt,"defaultProps",q({},R)),U(rt,"displayName","ReactConfetti");var ft=s.a.forwardRef(function(n,i){return s.a.createElement(rt,F({canvasRef:i},n))});d.default=ft}]).default})})(bt);var Tt=bt.exports;const _t=xt(Tt),At="/arithmetic/assets/sad_face-983f9c3f.png";const Rt=b=>b==="winner"?"Congratulations! You won":O.jsxs(O.Fragment,{children:[O.jsx("img",{src:At,alt:"sad face"}),O.jsx("span",{children:"Sorry, you lost"})]});function Ft({gameResult:b,firstOperand:E,secondOperand:I,operator:y,result:d,closePage:v}){return O.jsxs("div",{className:"modalPage",children:[O.jsx("h2",{className:"alert-message px-3",children:Rt(b)}),O.jsx(yt,{firstOperand:E,secondOperand:I,operator:y,result:d}),b==="winner"&&O.jsx(_t,{}),O.jsx(lt,{className:"btn-primary",onClick:v,ariaLabel:"confirm setting button",btnValue:"Go to game"})]})}function Bt({countdownTimer:b}){return O.jsx("div",{className:"timer",children:O.jsxs("span",{className:"timerValue bg-info text-light",children:[" ",b]})})}function Vt(){const[b,E]=P.useState(!1),[I,y]=P.useState(!1),[d,v]=P.useState(0),[l,t]=P.useState(0),[e,s]=P.useState([]),[a,c]=P.useState(null),[p,M]=P.useState(null),[f,Q]=P.useState(!1),[S,K]=P.useState(!1),[X,B]=P.useState(null),[T,N]=P.useState(""),[R,L]=P.useState(!1),Z=Ct(),C=jt(Pt)||{name:"",scores:0,operation:"",maxFirstNum:0,maxSecondNum:0,duration:0},[F,V]=P.useState(C.duration);P.useEffect(()=>{if(b){const[x,_]=Nt(C.operation,C.maxFirstNum,C.maxSecondNum);v(x),t(_),y(!0),s([]),c(null),V(C.duration),Q(!0)}},[b]),P.useEffect(()=>{const x=+e.join("");c(x)},[e]);const q=P.useCallback(x=>{N(x.key)},[]);P.useEffect(()=>(window.addEventListener("keydown",q),()=>{window.removeEventListener("keydown",q)}),[q]),P.useEffect(()=>{if(f&&F>0){const x=setTimeout(()=>{V(_=>_-1)},1e3);return()=>{clearTimeout(x)}}else Q(!1);F===0&&G()},[f,F,C.duration]);const z=()=>{E(!0)},$=x=>{const _=x.currentTarget.value;s([...e,_])};P.useEffect(()=>{if(S){Q(!1),L(!0);const x=+d,_=+l,Y=kt(C.operation,x,_);M(Y);const tt=Dt(a,C.scores,Y,C.duration);B(a===Y?"winner":"loser"),Z(St(tt))}},[S]);const G=()=>{K(!0)},J=()=>{L(!1)};return P.useEffect(()=>{if(R){const x=setTimeout(()=>{L(!1)},4e3);return()=>{clearTimeout(x)}}else K(!1),B(null),y(!1),E(!1)},[R]),P.useEffect(()=>{if(!b&&!S&&T==="Enter")z();else if(R&&(T==="Enter"||T==="Escape"))J();else if(I){if(/[0-9]/.test(T))s([...e,T]);else if(T==="Enter"&&!S)console.log("endHand","isGame:",S,"is start:",b),G();else if(T==="Backspace"){const x=[...e];x.pop(),s(x)}}N("")},[T]),O.jsxs("div",{className:"game",children:[O.jsx("div",{className:"countdownTimer",children:f&&O.jsx(Bt,{countdownTimer:F})}),!b&&O.jsxs("div",{className:"start",children:[O.jsx("span",{children:"Are you ready??? Press the button or Enter!"}),O.jsx(lt,{className:"btn-danger mx-2",onClick:z,ariaLabel:"start game button",btnValue:Mt})]}),O.jsx("div",{className:"equation",children:I&&O.jsx(yt,{firstOperand:d,secondOperand:l,operator:C.operation,result:a})}),O.jsx("div",{className:"keyboard",children:O.jsxs("div",{className:"keyWrap",children:[Et.map(x=>O.jsx("button",{className:"key",value:x,onClick:$,children:x},x)),I&&O.jsx(lt,{className:"btn-info",onClick:G,ariaLabel:"enter result equation button",btnValue:It})]})}),R&&O.jsx(Ft,{gameResult:X,firstOperand:d,secondOperand:l,operator:C.operation,result:p,closePage:J})]})}export{Vt as default};
